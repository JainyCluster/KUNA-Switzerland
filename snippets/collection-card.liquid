{{ 'component-collection-card.css' | asset_url | stylesheet_tag }}

<div class="sf-column{% if enable_slider %} swiper-slide{% endif %} ">
    <div 
      class="CLUSTER-{{ card_design }} collection-card collection-card--{{ card_style }}{% if hover_effect != 'none' %} collection-card--hover-{{ hover_effect }}{% endif %}{% if animated %} sf-scroll-trigger animate--{{ animation_effect }}{% endif %}"
      {% if animated %}
        data-cascade
        style="--animation-order: {{ index }};"
      {% endif %}
    >
        <div 
          class="collection-card__inner{% if card_style == 'boxed' %} h-full bg-white py-6 md:py-8 px-4 md:px-9{% endif %}">
            {% if card_style == 'boxed' %}
                <h3 class="hover:underline mb-4 block text-{{ text_alignment }}">
                    <a class="text-sm md:text-xl font-medium text-black not-change" href="{{ collection.url }}">
                      {{ title | default: collection.title | upcase }}
                    </a>
                </h3>
            {% endif %}
            {% assign aspect_ratio = image.aspect_ratio %}
            {% if image_rounded %}
                {% assign aspect_ratio = 1 %}
            {% endif %}
            <a href="{{ collection.url | default: "#" }}" class="collection-card__image block overflow-hidden w-full{% if image_rounded %} collection-card__image-rounded rounded-full{% endif %}">
                {% if type == 'image' %}
                  {% if image != blank %}
                    {% render 'responsive-image',
                            image: image,
                            image_class: 'w-full',
                            aspect_ratio: aspect_ratio
                    %}
                  {% else %}
                    <div style="--aspect-ratio: 1/1;">
                        {% capture current %}{% cycle 1, 2, 3, 4, 5, 6 %}{% endcapture %}
                        {{ 'collection-' | append: current | placeholder_svg_tag: 'sf__placeholder-svg w-full h-full w-full h-full object-cover' }}
                    </div>
                  {% endif %}
                {% endif %}
                {% if type == 'video' %}
                  {% if video != blank %}
                    <div style="--aspect-ratio: {{ aspect_ratio }}">
                      <video playsinline muted autoplay loop preload="auto" poster="{{ image | image_url }}">
                        {% liquid
                          assign video_urls = video | newline_to_br | split: '<br />'
                        %}
                        {% for video in video_urls %}
                          {% liquid
                            assign video_url = video | split: '?v='
                            assign video_url = video_url | first | strip_newlines
                            assign format = 'mp4'
                            if video_url contains '.webm' or video_url contains '.WEBM'
                            assign format = 'webm'
                            endif
          
                            if video_url contains '.mov' or video_url contains '.MOV'
                            assign format = 'mp4'
                            endif
                          %}
                          <source src="{{ video_url }}" type="video/{{ format }}">
                        {% endfor %}
                      </video>
                    </div>
                  {% else %}
                    <div style="--aspect-ratio: 1/1;">
                        {% capture current %}{% cycle 1, 2, 3, 4, 5, 6 %}{% endcapture %}
                        {{ 'collection-' | append: current | placeholder_svg_tag: 'sf__placeholder-svg w-full h-full w-full h-full object-cover' }}
                    </div>
                  {% endif %}
                {% endif %}
            </a>

          {% if text_design != "hide" %}
            <div class="collection-card__info px-3 md:mt-5 mt-2.5 text-{{ text_alignment }}">
<span>


            {% if sub_title %} 
<p style="display: block;">{{ sub_title }} </p>
            {% endif %}   
              
                {% if card_style == 'standard' or card_style == 'inside' %}
                    <p>
                        <a class="{% if card_style == 'inside' %}text-{{ color_schema }} {% endif %}text-lg md:text-xl font-semibold block" href="{{ collection.url | default: "#" }}">
                            {{ title | default: collection.title }}
                            {% if show_product_count == true and card_style == 'standard' and section.settings.count_inline_title == true %}
                                <sup class="font-semibold text-xs">{{ collection.all_products_count }}</sup>
                            {% endif %}
                        </a>
                    </p>
                    {% if show_product_count == true and card_style == 'standard' and section.settings.count_inline_title == false %}
                        <p class="text-base not-change text-color-subtext">{{ 'collections.general.collection_items' | t : title: collection.all_products_count }}</p>
                    {% endif %}
                    {% if show_product_count == true and card_style == 'inside' %}
                        <p class="mt-4 text-base not-change text-color-subtext">{{ 'collections.general.collection_items' | t : title: collection.all_products_count }}</p>
                    {% endif %}
                {% endif %}
                {% if card_style == 'inside' %}
                    <a class="sf__btn sf__btn-white btn w-[45px] h-[45px] justify-center items-center" href="{{ collection.url }}">
                        <svg class="not-change" xmlns="http://www.w3.org/2000/svg" width="14" height="13" fill="none" viewBox="0 0 14 13"><path class="not-change" fill="currentColor" d="M6.78594.789062c.16406-.145833.31901-.145833.46484 0L12.9656 6.53125c.1641.14583.1641.29167 0 .4375L7.25078 12.7109c-.14583.1459-.30078.1459-.46484 0l-.54688-.5468c-.05469-.0547-.08203-.1276-.08203-.2188 0-.0911.02734-.1732.08203-.2461l4.23824-4.23826H1.15312c-.218745 0-.32812-.10938-.32812-.32813v-.76562c0-.21875.109375-.32813.32812-.32813h9.32418L6.23906 1.80078c-.14583-.16406-.14583-.31901 0-.46484l.54688-.546878z"/></svg>
                    </a>
                {% endif %}
                {% if show_product_count == true and card_style == 'boxed' %}
                    <p class="mt-4 text-base not-change text-color-subtext text-{{ text_alignment }}">{{ 'collections.general.collection_items' | t : title: collection.all_products_count }}</p>
                {% endif %}

  
</span>
              

           
                          


                          
            </div>
          {% endif %}
                          
        </div>
    </div>
</div>
